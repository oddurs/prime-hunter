# PostgreSQL host-based authentication for darkreach
#
# TYPE  DATABASE  USER         ADDRESS           METHOD

# Local connections
local   all       darkreach                      scram-sha-256
local   all       postgres                       peer

# Localhost
host    all       darkreach    127.0.0.1/32      scram-sha-256
host    all       darkreach    ::1/128           scram-sha-256

# CX22 coordinator (178.156.211.107)
host    all       darkreach    178.156.211.107/32  scram-sha-256

# CCX23 worker (178.156.158.184)
host    all       darkreach    178.156.158.184/32  scram-sha-256

# Hetzner private network (if enabled)
host    all       darkreach    10.0.0.0/8        scram-sha-256

# Streaming replication (future replica)
host    replication  replicator  10.0.0.0/8      scram-sha-256
host    replication  replicator  178.156.0.0/16   scram-sha-256

# Reject everything else
host    all       all          0.0.0.0/0         reject
